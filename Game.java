package com.mycompany.a2;

import com.codename1.ui.Container;
import com.codename1.ui.Dialog;
import com.codename1.ui.Display;
import com.codename1.ui.Form;
import com.codename1.ui.Label;
import com.codename1.ui.TextField;
import com.codename1.ui.events.ActionEvent;
import com.codename1.ui.events.ActionListener;
import com.codename1.ui.layouts.BorderLayout;
import com.codename1.ui.layouts.BoxLayout;

/**
 * 
 * Game
 * This class is the controller and the main class. The game starts here.
 * It creates the views(MapView, PointsView) and the model(GameWorld) and connects them together by addObserver() method
 * Both views are Containers + 1 extra Container for displaying buttons on the left side
 * The 3 Containers are added to the main layout of the game
 *
 */

public class Game extends Form{
	
	private GameWorld gw;
	private MapView mv;
	private PointsView pv;

	
	public Game() {
		
		// set the main layout as BorderLayout
		setLayout(new BorderLayout());
		
		// create the container for displaying buttons on the left side
		Container buttonsContainer = new Container();
		buttonsContainer.setLayout(new BoxLayout(BoxLayout.Y_AXIS));
		buttonsContainer.add(new Label("Buttons!"));
		
		// create the model(GameWorld)
		gw = new GameWorld();
		gw.init();
		
		// create the views(MapView, PointsView)
		mv = new MapView();
		pv = new PointsView(gw);
		
		// connect the observers(views) with the GameWorld
		gw.addObserver(mv);
		gw.addObserver(pv);
		
		// add the views to the main layout
		add(BorderLayout.NORTH,pv);
		add(BorderLayout.CENTER,mv);
		add(BorderLayout.WEST, buttonsContainer);
		
		// show the main layout on the screen
		this.show();
		
		//play();
	}
	
	
	/*
	public void play() {
		Label myLabel = new Label("Enter a Command:");
		this.addComponent(myLabel);
		final TextField myTextField = new TextField();
		this.addComponent(myTextField);
		this.show();
		myTextField.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent evt) {
				String sCommand = myTextField.getText().toString();
				myTextField.clear();
				switch(sCommand.charAt(0)) {
					case 'a':
						gw.addAsteroid();
						break;
					case 'y':
						gw.addNPS();
						break;
					case 'b':
						gw.addStation();
						break;
					case 's':
						gw.addPlayerShip();
						break;
					case 'i':
						gw.increaseSpeed();
						break;
					case 'd':
						gw.decreaseSpeed();
						break;
					case 'l':
						gw.turnPSLeft();
						break;
					case 'r':
						gw.turnPSRight();
						break;
					case '>':
						gw.turnMissileLauncher();
						break;
					case 'f':
						gw.firePSMissile();
						break;
					case 'L':
						gw.fireNPSMissile();
						break;
					case 'j':
						gw.jump();
						break;
					case 'n':
						gw.newSupplies();
						break;
					case 'k':
						gw.psKillAsteroid();
						break;
					case 'e':
						gw.psKillNPS();
						break;
					case 'E':
						gw.npsKillPS();
						break;
					case 'c':
						gw.psCrashAsteroid();
						break;
					case 'h':
						gw.psCrashNPS();
						break;
					case 'x':
						gw.asteroidsCollide();
						break;
					case 'I':
						gw.asteroidCrashNPS();
						break;
					case 't':
						gw.clockTicked();
						break;
					case 'p':
						gw.printDisplay();
						break;
					case 'q':
						gw.quit();
					    break;
					case 'm':
						gw.printMap();
						break;
					default:
						System.out.println("Invalid input. Try again.");
				} // switch
			} // actionPerformed
		} // new ActionListener()
		); // addActionListener
	} // play()
	*/
	
	
}
